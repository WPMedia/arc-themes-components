import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";

import Image from ".";

<Meta title="Components/Image" component={Image} />

# Image

Image provide a vital part of story telling for websites. Images are used to complement text, or provide supporting information. Images can be used as informational or for decoration. This component will provide the means to display images in a variety of different ways.

For `resizedOptions`, here are the query parameters that are available: https://github.com/WPMedia/arc-photo-resizer/tree/main/docs/usage#query-parameters

Crucially, an "auth" key will allow the image to be resized. This object will resize the image to the specified dimensions and other properties given in the query parameters in the `src`.

For responsive images, the goal is to provide options given the media conditions, like screen size, provided using the "sizes" prop that takes in an array of objects. This is will render the [sizes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-sizes) string.

Given the sizes specified, the browser will choose the best image to display from the `srcset` attribute created given the `resizedOptions` and the `responsiveImages` prop. The `resizedOptions` will also provide the aspect ratio, with `resizedOptions.height` and `resizedOptions.width`, needed to make the `srcset` available images.

## Usage

```jsx
import { Image } from "@wpmedia/arc-themes-components";

const Feature = () => <Image src="cat.jpg" alt="A cat jumping up to a ball" />;
```

## Properties

<ArgsTable of={Image} />

## Stories

** Default **

<Canvas>
	<Story name="Default">
		<Image
			src="/HY6LDPEW4BBFDLBYD4S3S7LZ3E.jpg"
			alt="A person posing"
			resizedOptions={{
				auth: "ab9e85e4ddf84da579c217bc66331a71941bd99dcfbc17ef0f25b166a094bec4",
			}}
			resizerURL="https://themesinternal-themesinternal-sandbox.web.arc-cdn.net/resizer/v2"
		/>
	</Story>
</Canvas>

** Image not found **

<Canvas>
	<Story name="Image not found">
		<Image
			src="/nowhere.jpg"
			alt="A person posing"
			resizedOptions={{
				auth: "ab9e85e4ddf84da579c217bc66331a71941bd99dcfbc17ef0f25b166a094bec4",
			}}
			resizerURL="https://themesinternal-themesinternal-sandbox.web.arc-cdn.net/resizer/v2"
		/>
	</Story>
</Canvas>

** Only width **

<Canvas>
	<Story name="Only width">
		<Image
			src="/HY6LDPEW4BBFDLBYD4S3S7LZ3E.jpg"
			alt="A person posing"
			resizedOptions={{
				width: 300,
				auth: "ab9e85e4ddf84da579c217bc66331a71941bd99dcfbc17ef0f25b166a094bec4",
			}}
			resizerURL="https://themesinternal-themesinternal-sandbox.web.arc-cdn.net/resizer/v2"
		/>
	</Story>
</Canvas>

** Only height **

<Canvas>
	<Story name="Only height">
		<Image
			src="/HY6LDPEW4BBFDLBYD4S3S7LZ3E.jpg"
			alt="A person posing"
			resizedOptions={{
				height: 300,
				auth: "ab9e85e4ddf84da579c217bc66331a71941bd99dcfbc17ef0f25b166a094bec4",
			}}
			resizerURL="https://themesinternal-themesinternal-sandbox.web.arc-cdn.net/resizer/v2"
		/>
	</Story>
</Canvas>

** Width and height **

<Canvas>
	<Story name="Width and height">
		<Image
			src="/HY6LDPEW4BBFDLBYD4S3S7LZ3E.jpg"
			alt="A person posing"
			resizedOptions={{
				width: 300,
				height: 300,
				auth: "ab9e85e4ddf84da579c217bc66331a71941bd99dcfbc17ef0f25b166a094bec4",
			}}
			resizerURL="https://themesinternal-themesinternal-sandbox.web.arc-cdn.net/resizer/v2"
		/>
	</Story>
</Canvas>

** Width and height and many responsive images **

<Canvas>
	<Story name="Width and height and many responsive images">
		<Image
			src="/HY6LDPEW4BBFDLBYD4S3S7LZ3E.jpg"
			alt="A person posing"
			resizedOptions={{
				width: 300,
				height: 300,
				auth: "ab9e85e4ddf84da579c217bc66331a71941bd99dcfbc17ef0f25b166a094bec4",
			}}
			responsiveImages={[100, 200, 1000]}
			resizerURL="https://themesinternal-themesinternal-sandbox.web.arc-cdn.net/resizer/v2"
			sizes={[
				{ isDefault: true, sourceSizeValue: "1000px" },
				{
					mediaCondition: "(min-width: 1000px)",
					sourceSizeValue: "200px",
				},
			]}
		/>
	</Story>
</Canvas>

** Width and height and many responsive images without sizes default **

<Canvas>
	<Story name="Width and height and many responsive images without sizes default">
		<Image
			src="/HY6LDPEW4BBFDLBYD4S3S7LZ3E.jpg"
			alt="A person posing"
			resizedOptions={{
				width: 300,
				height: 300,
				auth: "ab9e85e4ddf84da579c217bc66331a71941bd99dcfbc17ef0f25b166a094bec4",
			}}
			responsiveImages={[100, 200, 1000]}
			resizerURL="https://themesinternal-themesinternal-sandbox.web.arc-cdn.net/resizer/v2"
			sizes={[{ mediaCondition: "(min-width: 1000px)", sourceSizeValue: "200px" }]}
		/>
	</Story>
</Canvas>

** Responsive images without height and width **

<Canvas>
	<Story name="Responsive images without height and width">
		<Image
			src="/HY6LDPEW4BBFDLBYD4S3S7LZ3E.jpg"
			alt="A person posing"
			resizedOptions={{
				auth: "ab9e85e4ddf84da579c217bc66331a71941bd99dcfbc17ef0f25b166a094bec4",
			}}
			responsiveImages={[100, 200, 1000]}
			resizerURL="https://themesinternal-themesinternal-sandbox.web.arc-cdn.net/resizer/v2"
			sizes={[
				{ isDefault: true, sourceSizeValue: "1000px" },
				{
					mediaCondition: "(min-width: 1000px)",
					sourceSizeValue: "200px",
				},
			]}
		/>
	</Story>
</Canvas>

** Responsive image with in resized options like lowered quality **

<Canvas>
	<Story name="Responsive image with resized options like lowered quality">
		<Image
			src="/HY6LDPEW4BBFDLBYD4S3S7LZ3E.jpg"
			alt="A person posing"
			resizedOptions={{
				width: 300,
				height: 300,
				quality: 10,
				auth: "ab9e85e4ddf84da579c217bc66331a71941bd99dcfbc17ef0f25b166a094bec4",
			}}
			responsiveImages={[100, 200, 1000]}
			resizerURL="https://themesinternal-themesinternal-sandbox.web.arc-cdn.net/resizer/v2"
			sizes={[
				{ isDefault: true, sourceSizeValue: "1000px" },
				{
					mediaCondition: "(min-width: 1000px)",
					sourceSizeValue: "200px",
				},
			]}
		/>
	</Story>
</Canvas>

** Without auth token renders src raw **

<Canvas>
	<Story name="Without auth token renders src raw">
		<Image src="/computer-user.jpeg" alt="A person using a computer" />
	</Story>
</Canvas>
