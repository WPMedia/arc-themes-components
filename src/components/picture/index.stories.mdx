import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";

import Picture from ".";

<Meta title="Components/Picture" component={Picture} />

# Picture

The `Picture` component and `Picture.Source` subcomponent render the HTML5 `<picture>` and `<source>` tags, respectively. Similar to the Image, the Picture component displays images as both a means of content and content support. Picture, however, allows for different images (with respective resize options) to be used explicitly for different media queries. This allows for different Art Direction approaches for specific viewport dimensions.

For `resizedOptions`, here are the query parameters that are available:
https://github.com/WPMedia/arc-photo-resizer/tree/main/docs/usage#query-parameters

Crucially, an "auth" key will allow the image to be resized. This object will resize the image to the specified dimensions and other properties given in the query parameters in the `src`.

Image dimensions may be provided as `width`, `height` props or `resizedOptions` parameters. If dimensions are provided in both manners, the `width`, `height` props will be used, overriding the `resizedOptions` parameters.

The `Picture` component can use zero or more `Picture.Source` subcomponents and should also include one `Image` as a supportive fallback. Those are the two types of children a Picture will support.

## Usage

```jsx
import { Picture } from "@wpmedia/arc-themes-components";

const Feature = () => (
	<Picture>
		<Picture.Source
			src="cat.jpg"
			width={400}
			height={300}
			media="(min-width: 768px)"
			resizerURL="https://resizer.com/v2/"
			resizedOptions={{
				auth: "secret",
			}}
		/>
		<Picture.Image
			src="cat.jpg"
			width={200}
			height={200}
			resizerURL="https://resizer.com/v2/"
			resizedOptions={{
				auth: "secret",
			}}
			alt="A cat meowing"
		/>
	</Picture>
);
```

## Properties

<ArgsTable of={Picture} />

### Picture.Source

<ArgsTable of={Picture.Source} />

### Picture.Image

<ArgsTable of={Picture.Image} />

## Stories

** Picture **

A `Picture` with a single `Picture.Source` and `Picture.Image`.

<Canvas>
	<Story name="Picture">
		<Picture>
			<Picture.Source
				src="HY6LDPEW4BBFDLBYD4S3S7LZ3E.jpg"
				width={400}
				height={300}
				media="(min-width: 768px)"
				resizedOptions={{
					auth: "ab9e85e4ddf84da579c217bc66331a71941bd99dcfbc17ef0f25b166a094bec4",
				}}
				resizerURL="https://themesinternal-themesinternal-sandbox.web.arc-cdn.net/resizer/v2/"
			/>
			<Picture.Image
				src="HY6LDPEW4BBFDLBYD4S3S7LZ3E.jpg"
				alt="A person posing"
				height={300}
				width={300}
				resizedOptions={{
					auth: "ab9e85e4ddf84da579c217bc66331a71941bd99dcfbc17ef0f25b166a094bec4",
				}}
				resizerURL="https://themesinternal-themesinternal-sandbox.web.arc-cdn.net/resizer/v2/"
			/>
		</Picture>
	</Story>
</Canvas>

** Picture with multiple Sources **

A `Picture` with a multiple `Picture.Source` subcomponents to support multiple media queries.

<Canvas>
	<Story name="Picture with multiple Sources">
		<Picture>
			<Picture.Source
				src="HY6LDPEW4BBFDLBYD4S3S7LZ3E.jpg"
				width={500}
				height={300}
				media="(min-width: 768px)"
				resizedOptions={{
					auth: "ab9e85e4ddf84da579c217bc66331a71941bd99dcfbc17ef0f25b166a094bec4",
				}}
				resizerURL="https://themesinternal-themesinternal-sandbox.web.arc-cdn.net/resizer/v2/"
			/>
			<Picture.Image
				src="HY6LDPEW4BBFDLBYD4S3S7LZ3E.jpg"
				alt="A person posing"
				height={300}
				width={300}
				resizedOptions={{
					auth: "ab9e85e4ddf84da579c217bc66331a71941bd99dcfbc17ef0f25b166a094bec4",
				}}
				resizerURL="https://themesinternal-themesinternal-sandbox.web.arc-cdn.net/resizer/v2/"
			/>
		</Picture>
	</Story>
</Canvas>

** Picture source with no media attribute **

`Picture.Source` requires a `media` attribute. When the attribute is not provided, `Picture.Source` renders as `null`.

<Canvas>
	<Story name="Picture source is not rendered if it has no media attribute">
		<Picture>
			<Picture.Source
				src="HY6LDPEW4BBFDLBYD4S3S7LZ3E.jpg"
				width={500}
				height={300}
				resizedOptions={{
					auth: "ab9e85e4ddf84da579c217bc66331a71941bd99dcfbc17ef0f25b166a094bec4",
				}}
				resizerURL="https://themesinternal-themesinternal-sandbox.web.arc-cdn.net/resizer/v2/"
			/>
			<Picture.Image
				src="HY6LDPEW4BBFDLBYD4S3S7LZ3E.jpg"
				alt="A person posing"
				height={300}
				width={300}
				resizedOptions={{
					auth: "ab9e85e4ddf84da579c217bc66331a71941bd99dcfbc17ef0f25b166a094bec4",
				}}
				resizerURL="https://themesinternal-themesinternal-sandbox.web.arc-cdn.net/resizer/v2/"
			/>
		</Picture>
	</Story>
</Canvas>
