import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import Carousel from ".";
import Image from "../image";
import Button from "../button";
import Icon from "../icon";

export const SampleCard = ({ src }) => (
	<div style={{ padding: "0 0.25rem" }}>
		<Image src={src} />
	</div>
);

export const SamplePrevArrow = ({ currentSlide, slideCount, ...props }) => (
	<Button
		{...props}
		className={"slick-prev slick-arrow" + (currentSlide === 0 ? " slick-disabled" : "")}
		disabled={currentSlide === 0}
		accessibilityLabel="Previous"
		type="button"
	>
		Previous
	</Button>
);

export const SampleNextArrow = ({ currentSlide, slideCount, slidesToShow, ...props }) => {
	const disabled =
		slidesToShow > 1 ? slideCount === slidesToShow + currentSlide : currentSlide === slideCount - 1;
	return (
		<Button
			{...props}
			className={"slick-next slick-arrow" + (disabled ? " slick-disabled" : "")}
			disabled={disabled}
			accessibilityLabel="Next"
			type="button"
		>
			Next
		</Button>
	);
};

<Meta title="Components/Carousel" component={Carousel} />

# Carousel

A `<Carousel>` is a container for child components that may be viewed in sequence,
forward or backward. The container can take in markup of children div containers. Here is a simple example:

```jsx
<div style={{ padding: "0 0.25rem" }}>
    <img
        src="//camera.jpg"
        alt="A camera on a surface."
    />
</div>

<div style={{ padding: "0 0.25rem" }}>
    <img
        src="//canyon.jpg"
        alt="A canyon vista."
    />
</div>
```

Or you can pass in a collection of react components that act as "slides" inside the carousel. Here is a simple example:

```jsx
const SampleCard = ({ src }) => (
	<div style={{ padding: "0 0.25rem" }}>
		<Image src={src} />
	</div>
);
```

Also, you can create your own Arrow and Dot components. Here are examples of custom arrow components that are a11y compliant.
They are used in the `Custom Arrows` story:

```jsx
import Button from "./index";
export const SamplePrevArrow = ({ currentSlide, slideCount, ...props }) => (
	<Button
		{...props}
		className={"slick-prev slick-arrow" + (currentSlide === 0 ? " slick-disabled" : "")}
		disabled={currentSlide === 0}
		accessibilityLabel="Previous"
		type="button"
	>
		Previous
	</Button>
);

export const SampleNextArrow = ({ currentSlide, slideCount, slidesToShow, ...props }) => {
	const disabled =
		slidesToShow > 1 ? slideCount === slidesToShow + currentSlide : currentSlide === slideCount - 1;
	return (
		<Button
			{...props}
			className={"slick-next slick-arrow" + (disabled ? " slick-disabled" : "")}
			disabled={disabled}
			accessibilityLabel="Next"
			type="button"
		>
			Next
		</Button>
	);
};
```

The examples used below will use the `SampleCard` component for brevity.

## Usage

```jsx
import { Carousel } from "@wpmedia/arc-themes-components";

const Feature = () => <Carousel>Component Children</Carousel>;
```

## Properties

The Carousel component internally uses a third party solution for the slider mechanism. That product is React-Slick.
More information along with its API can be found here: https://react-slick.neostack.com/docs/api.
The Carousel component can accept all of React Slick properties through the sliderProps object property.

<ArgsTable of={Carousel} />

## Stories

** Multiple Items**

<Canvas>
	<Story name="Multiple Items">
		<Carousel
			sliderProps={{
				accessibility: true,
				centerMode: false,
				infinite: false,
				slidesToShow: 4,
				speed: 500,
				slidesToScroll: 1,
				initialSlide: 0,
			}}
		>
			<SampleCard src="/camera.jpg" />
			<SampleCard src="/canyon.jpg" />
			<SampleCard src="/coffee.jpg" />
			<SampleCard src="/iceberg.jpg" />
			<SampleCard src="/keyboard.jpg" />
			<SampleCard src="/moon.jpg" />
			<SampleCard src="/sunflowers.jpg" />
			<SampleCard src="/turtle.jpg" />
			<SampleCard src="/waterfall.jpg" />
			<SampleCard src="/wave.jpg" />
		</Carousel>
	</Story>
</Canvas>

** Multiple Items with Infinite**

<Canvas>
	<Story name="Multiple Items with Infinite">
		<Carousel
			sliderProps={{
				centerMode: true,
				infinite: true,
				centerPadding: "60px",
				slidesToShow: 4,
				speed: 500,
				slidesToScroll: 1,
				initialSlide: 0,
			}}
		>
			<SampleCard src="/camera.jpg" />
			<SampleCard src="/canyon.jpg" />
			<SampleCard src="/coffee.jpg" />
			<SampleCard src="/iceberg.jpg" />
			<SampleCard src="/keyboard.jpg" />
			<SampleCard src="/moon.jpg" />
			<SampleCard src="/sunflowers.jpg" />
			<SampleCard src="/turtle.jpg" />
			<SampleCard src="/waterfall.jpg" />
			<SampleCard src="/wave.jpg" />
		</Carousel>
	</Story>
</Canvas>

** Multiple Items With Dots**

<Canvas>
	<Story name="Multiple Items With Dots">
		<Carousel
			sliderProps={{
				dots: true,
				centerMode: true,
				infinite: true,
				centerPadding: "60px",
				slidesToShow: 3,
				speed: 500,
				slidesToScroll: 1,
				initialSlide: 0,
			}}
		>
			<SampleCard src="/camera.jpg" />
			<SampleCard src="/canyon.jpg" />
			<SampleCard src="/coffee.jpg" />
			<SampleCard src="/iceberg.jpg" />
			<SampleCard src="/keyboard.jpg" />
			<SampleCard src="/moon.jpg" />
			<SampleCard src="/sunflowers.jpg" />
			<SampleCard src="/turtle.jpg" />
			<SampleCard src="/waterfall.jpg" />
			<SampleCard src="/wave.jpg" />
		</Carousel>
	</Story>
</Canvas>

** Single Item With Dots**

<Canvas>
	<Story name="Single Item With Dots">
		<div className="confinedWidthContainer" style={{ width: 500 }}>
			<Carousel
				sliderProps={{
					dots: true,
					slidesToShow: 1,
					slidesToScroll: 1,
					initialSlide: 0,
					centerMode: false,
				}}
			>
				<SampleCard src="/camera.jpg" />
				<SampleCard src="/canyon.jpg" />
				<SampleCard src="/coffee.jpg" />
				<SampleCard src="/iceberg.jpg" />
				<SampleCard src="/keyboard.jpg" />
			</Carousel>
		</div>
	</Story>
</Canvas>

** Single Item With Dots and no Arrows**

<Canvas>
	<Story name="Single Item With Dots and no Arrows">
		<div className="confinedWidthContainer" style={{ width: 500 }}>
			<Carousel
				sliderProps={{
					dots: true,
					arrows: false,
					slidesToShow: 1,
					slidesToScroll: 1,
					initialSlide: 0,
					centerMode: false,
				}}
			>
				<SampleCard src="/camera.jpg" />
				<SampleCard src="/canyon.jpg" />
				<SampleCard src="/coffee.jpg" />
				<SampleCard src="/iceberg.jpg" />
				<SampleCard src="/keyboard.jpg" />
			</Carousel>
		</div>
	</Story>
</Canvas>

** Responsive configuration**

<Canvas>
	<Story name="Responsive configuration">
		<Carousel
			sliderProps={{
				centerMode: false,
				infinite: false,
				centerPadding: "60px",
				slidesToShow: 3,
				speed: 500,
				slidesToScroll: 1,
				initialSlide: 0,
				responsive: [
					{
						breakpoint: 1024,
						settings: {
							slidesToShow: 3,
							slidesToScroll: 3,
							infinite: true,
							centerMode: false,
						},
					},
					{
						breakpoint: 600,
						settings: {
							slidesToShow: 1,
							slidesToScroll: 1,
							initialSlide: 0,
							centerMode: false,
						},
					},
				],
			}}
		>
			<SampleCard src="/camera.jpg" />
			<SampleCard src="/canyon.jpg" />
			<SampleCard src="/coffee.jpg" />
			<SampleCard src="/iceberg.jpg" />
			<SampleCard src="/keyboard.jpg" />
			<SampleCard src="/moon.jpg" />
			<SampleCard src="/sunflowers.jpg" />
			<SampleCard src="/turtle.jpg" />
			<SampleCard src="/waterfall.jpg" />
			<SampleCard src="/wave.jpg" />
		</Carousel>
	</Story>
</Canvas>

** Custom Arrows**

<Canvas>
	<Story name="Custom Arrows">
		<Carousel
			sliderProps={{
				dots: true,
				centerMode: false,
				infinite: false,
				centerPadding: "0",
				slidesToShow: 3,
				speed: 500,
				slidesToScroll: 1,
				initialSlide: 0,
				nextArrow: <SampleNextArrow slidesToShow={3} />,
				prevArrow: <SamplePrevArrow />,
			}}
		>
			<SampleCard src="/camera.jpg" />
			<SampleCard src="/canyon.jpg" />
			<SampleCard src="/coffee.jpg" />
			<SampleCard src="/iceberg.jpg" />
			<SampleCard src="/keyboard.jpg" />
			<SampleCard src="/moon.jpg" />
			<SampleCard src="/sunflowers.jpg" />
			<SampleCard src="/turtle.jpg" />
			<SampleCard src="/waterfall.jpg" />
			<SampleCard src="/wave.jpg" />
		</Carousel>
	</Story>
</Canvas>
